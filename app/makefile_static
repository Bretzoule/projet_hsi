OBJSTATIC = $(subst $(STATICDIR), $(BINDIR),$(SRCSTATIC:.c=.o))
SRCSTATIC = $(wildcard $(STATICDIR)*.c)
STATICLIB = $(SRCDIR)types.a

STATIC: $(STATICLIB)

$(STATICLIB): $(OBJSTATIC)
	ar rcs $@ $^
	@make clean

$(BINDIR)%.o: $(STATICDIR)%.c $(INCLUDEDIR)%.h
	$(CC) $(CFLAGS) -c -o $@ $<

.PHONY: cleangenerated
cleangenerated:
	@echo "Removing generated files."
	@$(RM) $(STATICLIB)